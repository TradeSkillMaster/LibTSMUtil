

<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="../">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Iterator &mdash; LibTSMUtil  documentation</title>
      <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=b86133f3" />
      <link rel="stylesheet" type="text/css" href="../_static/css/theme.css?v=e59714d7" />
      <link rel="stylesheet" type="text/css" href="../_static/lua.css" />

  
      <script src="../_static/jquery.js?v=5d32c60e"></script>
      <script src="../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
      <script src="../_static/documentation_options.js?v=5929fcd5"></script>
      <script src="../_static/doctools.js?v=9bcbadda"></script>
      <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Long String" href="long_string.html" />
    <link rel="prev" title="Future" href="future.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../index.html" class="icon icon-home">
            LibTSMUtil
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../index.html">Home</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Lua/index.html">Lua</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="index.html">Base Type</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="context_manager.html">Context Manager</a></li>
<li class="toctree-l2"><a class="reference internal" href="encoder.html">Encoder</a></li>
<li class="toctree-l2"><a class="reference internal" href="enum_type.html">Enum Type</a></li>
<li class="toctree-l2"><a class="reference internal" href="future.html">Future</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">Iterator</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#example">Example</a></li>
<li class="toctree-l3"><a class="reference internal" href="#memory-management">Memory Management</a></li>
<li class="toctree-l3"><a class="reference internal" href="#api">API</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#lua-BaseType.Iterator"><code class="docutils literal notranslate"><span class="pre">BaseType.Iterator</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#lua-IteratorObject"><code class="docutils literal notranslate"><span class="pre">IteratorObject</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="long_string.html">Long String</a></li>
<li class="toctree-l2"><a class="reference internal" href="named_tuple_list.html">Named Tuple List</a></li>
<li class="toctree-l2"><a class="reference internal" href="object_pool.html">Object Pool</a></li>
<li class="toctree-l2"><a class="reference internal" href="ordered_table.html">Ordered Table</a></li>
<li class="toctree-l2"><a class="reference internal" href="range.html">Range</a></li>
<li class="toctree-l2"><a class="reference internal" href="signal.html">Signal</a></li>
<li class="toctree-l2"><a class="reference internal" href="smart_map.html">Smart Map</a></li>
<li class="toctree-l2"><a class="reference internal" href="temp_table.html">Temp Table</a></li>
<li class="toctree-l2"><a class="reference internal" href="tree.html">Tree</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../Util/index.html">Util</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Format/index.html">Format</a></li>
<li class="toctree-l1"><a class="reference internal" href="../UI/index.html">UI</a></li>
<li class="toctree-l1"><a class="reference internal" href="../fsm.html">FSM</a></li>
<li class="toctree-l1"><a class="reference internal" href="../reactive.html">Reactive Framework</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">LibTSMUtil</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="index.html">Base Type</a></li>
      <li class="breadcrumb-item active">Iterator</li>
      <li class="wy-breadcrumbs-aside">
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="iterator">
<h1>Iterator<a class="headerlink" href="#iterator" title="Link to this heading"></a></h1>
<p>Lua’s built-in iterator mechanism is clumsy at best, with the <a class="reference external" href="https://www.lua.org/pil/7.1.html">documentation even admitting</a> they
“may be difficult to write, but are easy to use.” While they are easy to use when called directly
within a for loop, they are not easy to pass around, explicitly document functions which return
them, or extend the functionality of. The <code class="docutils literal notranslate"><span class="pre">Iterator</span></code> module intends to address these shortfalls
and provide some additional functionality.</p>
<section id="example">
<h2>Example<a class="headerlink" href="#example" title="Link to this heading"></a></h2>
<p>Below is an example which shows all the feature of the iterator objects.</p>
<div class="highlight-lua notranslate"><div class="highlight"><pre><span></span><span class="kd">local</span><span class="w"> </span><span class="nv">MyModule</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">select</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="p">...).</span><span class="nv">MyModule</span>
<span class="kd">local</span><span class="w"> </span><span class="nv">Iterator</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">MyModule</span><span class="p">:</span><span class="nf">From</span><span class="p">(</span><span class="s2">&quot;LibTSMUtil&quot;</span><span class="p">):</span><span class="nf">Include</span><span class="p">(</span><span class="s2">&quot;BaseType.Iterator&quot;</span><span class="p">)</span>

<span class="kd">local</span><span class="w"> </span><span class="nv">iter</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">Iterator</span><span class="p">.</span><span class="nf">Acquire</span><span class="p">(</span><span class="nb">ipairs</span><span class="p">({</span><span class="s2">&quot;a&quot;</span><span class="p">,</span><span class="w"> </span><span class="mi">23</span><span class="p">,</span><span class="w"> </span><span class="mi">17</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;c&quot;</span><span class="p">}))</span>
<span class="w">   </span><span class="p">:</span><span class="nf">Filter</span><span class="p">(</span><span class="kr">function</span><span class="p">(</span><span class="nv">index</span><span class="p">,</span><span class="w"> </span><span class="nv">value</span><span class="p">)</span><span class="w"> </span><span class="kr">return</span><span class="w"> </span><span class="nb">type</span><span class="p">(</span><span class="nv">value</span><span class="p">)</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="s2">&quot;string&quot;</span><span class="w"> </span><span class="kr">end</span><span class="p">)</span>
<span class="w">   </span><span class="p">:</span><span class="nf">SetMapFunc</span><span class="p">(</span><span class="kr">function</span><span class="p">(</span><span class="nv">index</span><span class="p">,</span><span class="w"> </span><span class="nv">value</span><span class="p">)</span><span class="w"> </span><span class="kr">return</span><span class="w"> </span><span class="nv">value</span><span class="p">,</span><span class="w"> </span><span class="nb">string.upper</span><span class="p">(</span><span class="nv">value</span><span class="p">)</span><span class="w"> </span><span class="kr">end</span><span class="p">)</span>
<span class="kr">for</span><span class="w"> </span><span class="nv">i</span><span class="p">,</span><span class="w"> </span><span class="nv">str</span><span class="p">,</span><span class="w"> </span><span class="nv">upperStr</span><span class="w"> </span><span class="kr">in</span><span class="w"> </span><span class="nv">iter</span><span class="w"> </span><span class="kr">do</span>
<span class="w">   </span><span class="nb">print</span><span class="p">(</span><span class="nv">i</span><span class="p">,</span><span class="w"> </span><span class="nv">str</span><span class="p">,</span><span class="w"> </span><span class="nv">upperStr</span><span class="p">)</span>
<span class="kr">end</span>
<span class="c1">-- 1    a    A</span>
<span class="c1">-- 4    c    C</span>

<span class="nb">print</span><span class="p">(</span><span class="nv">Iterator</span><span class="p">.</span><span class="nf">Acquire</span><span class="p">(</span><span class="nb">ipairs</span><span class="p">({</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="p">})):</span><span class="nf">ToJoinedValueString</span><span class="p">(</span><span class="s2">&quot;,&quot;</span><span class="p">))</span><span class="w"> </span><span class="c1">-- 1,2,3</span>
</pre></div>
</div>
</section>
<section id="memory-management">
<h2>Memory Management<a class="headerlink" href="#memory-management" title="Link to this heading"></a></h2>
<p>The lifecycle of iterator objects is owned by the Iterator module. They are acquired via the
<code class="docutils literal notranslate"><span class="pre">Iterator.Acquire()</span></code> function and its up to the caller to ensure they are properly released back
to the Iterator module for recycling. In most cases, this is done automatically by simply running
the iteration all the way to completion. For cases where breaking out of the iterator early is
required, the application must explicitly call the <code class="docutils literal notranslate"><span class="pre">:Release()</span></code> method on the iterator object.</p>
</section>
<section id="api">
<h2>API<a class="headerlink" href="#api" title="Link to this heading"></a></h2>
<dl class="lua class">
<dt class="sig sig-object lua" id="lua-BaseType.Iterator">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">BaseType.</span></span><span class="sig-name descname"><span class="pre">Iterator</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><code class="xref lua lua-_auto docutils literal notranslate"><span class="pre">LibTSMModule</span></code><a class="headerlink" href="#lua-BaseType.Iterator" title="Link to this definition"></a><br /></dt>
<dd><dl class="lua staticmethod">
<dt class="sig sig-object lua" id="lua-BaseType.Iterator.Acquire">
<em class="property"><span class="k"><span class="pre">staticmethod</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">Acquire</span></span><span class="p"><span class="pre">(</span></span><br /><span class="w">&#160;&#160;&#160; </span><span class="n"><span class="pre">func</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="k"><span class="pre">fun</span></span><span class="p"><span class="pre">(</span></span><code class="xref lua lua-_auto docutils literal notranslate"><span class="pre">obj</span></code><span class="p"><span class="pre">?</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="p"><span class="pre">&lt;</span></span><code class="xref lua lua-_auto docutils literal notranslate"><span class="pre">T</span></code><span class="p"><span class="pre">&gt;</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="n"><span class="pre">key</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="p"><span class="pre">&lt;</span></span><code class="xref lua lua-_auto docutils literal notranslate"><span class="pre">K</span></code><span class="p"><span class="pre">&gt;</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="n"><span class="pre">...</span></span><code class="xref lua lua-_auto docutils literal notranslate"><span class="pre">any</span></code><span class="p"><span class="pre">)</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">...</span></span><code class="xref lua lua-_auto docutils literal notranslate"><span class="pre">unknown</span></code><span class="p"><span class="pre">,</span></span><span class="w"> </span><br /><span class="w">&#160;&#160;&#160; </span><span class="n"><span class="pre">obj?</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="p"><span class="pre">&lt;</span></span><code class="xref lua lua-_auto docutils literal notranslate"><span class="pre">T</span></code><span class="p"><span class="pre">&gt;</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><br /><span class="w">&#160;&#160;&#160; </span><span class="n"><span class="pre">key?</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="p"><span class="pre">&lt;</span></span><code class="xref lua lua-_auto docutils literal notranslate"><span class="pre">K</span></code><span class="p"><span class="pre">&gt;</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><br /><span class="w">&#160;&#160;&#160; </span><span class="n"><span class="pre">...</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><code class="xref lua lua-_auto docutils literal notranslate"><span class="pre">any</span></code><br /><span class="p"><span class="pre">)</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference internal" href="#lua-IteratorObject" title="IteratorObject"><code class="xref lua lua-_auto docutils literal notranslate"><span class="pre">IteratorObject</span></code></a><a class="headerlink" href="#lua-BaseType.Iterator.Acquire" title="Link to this definition"></a><br /></dt>
<dd><p>Acquires an Iterator object which wraps the passed iterator function.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>func</strong> (<span class="k">fun</span><span class="p">(</span><code class="xref lua lua-_auto docutils literal notranslate"><span class="pre">obj</span></code><span class="p">?</span><span class="p">:</span><span class="w"> </span><span class="p">&lt;</span><code class="xref lua lua-_auto docutils literal notranslate"><span class="pre">T</span></code><span class="p">&gt;</span><span class="p">,</span><span class="w"> </span><span class="n">key</span><span class="p">:</span><span class="w"> </span><span class="p">&lt;</span><code class="xref lua lua-_auto docutils literal notranslate"><span class="pre">K</span></code><span class="p">&gt;</span><span class="p">,</span><span class="w"> </span><span class="n">...</span><code class="xref lua lua-_auto docutils literal notranslate"><span class="pre">any</span></code><span class="p">)</span><span class="p">:</span><span class="w"> </span><span class="n">...</span><code class="xref lua lua-_auto docutils literal notranslate"><span class="pre">unknown</span></code>) – The iterator function</p></li>
<li><p><strong>obj?</strong> (<span class="p">&lt;</span><code class="xref lua lua-_auto docutils literal notranslate"><span class="pre">T</span></code><span class="p">&gt;</span>) – The object being iterated over</p></li>
<li><p><strong>key?</strong> (<span class="p">&lt;</span><code class="xref lua lua-_auto docutils literal notranslate"><span class="pre">K</span></code><span class="p">&gt;</span>) – The initial key for the iterator function</p></li>
<li><p><strong>...</strong> (<code class="xref lua lua-_auto docutils literal notranslate"><span class="pre">any</span></code>) – Additional arguments to pass to the iterator function</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="lua staticmethod">
<dt class="sig sig-object lua" id="lua-BaseType.Iterator.AcquireEmpty">
<em class="property"><span class="k"><span class="pre">staticmethod</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">AcquireEmpty</span></span><span class="p"><span class="pre">(</span></span><span class="p"><span class="pre">)</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference internal" href="#lua-IteratorObject" title="IteratorObject"><code class="xref lua lua-_auto docutils literal notranslate"><span class="pre">IteratorObject</span></code></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="k"><span class="pre">fun</span></span><span class="p"><span class="pre">(</span></span><span class="p"><span class="pre">)</span></span><a class="headerlink" href="#lua-BaseType.Iterator.AcquireEmpty" title="Link to this definition"></a><br /></dt>
<dd><p>Acquires an Iterator object which does not produce any values.</p>
<dl class="field-list simple">
</dl>
</dd></dl>

</dd></dl>

<dl class="lua class">
<dt class="sig sig-object lua" id="lua-IteratorObject">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">IteratorObject</span></span><a class="headerlink" href="#lua-IteratorObject" title="Link to this definition"></a><br /></dt>
<dd><dl class="lua method">
<dt class="sig sig-object lua" id="lua-IteratorObject.Filter">
<span class="sig-name descname"><span class="pre">Filter</span></span><span class="p"><span class="pre">(</span></span><br /><span class="w">&#160;&#160;&#160; </span><span class="n"><span class="pre">self</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference internal" href="#lua-IteratorObject" title="IteratorObject"><code class="xref lua lua-_auto docutils literal notranslate"><span class="pre">IteratorObject</span></code></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><br /><span class="w">&#160;&#160;&#160; </span><span class="n"><span class="pre">func</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="k"><span class="pre">fun</span></span><span class="p"><span class="pre">(</span></span><span class="n"><span class="pre">key</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><code class="xref lua lua-_auto docutils literal notranslate"><span class="pre">any</span></code><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="n"><span class="pre">...</span></span><code class="xref lua lua-_auto docutils literal notranslate"><span class="pre">any</span></code><span class="p"><span class="pre">)</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><code class="xref lua lua-_auto docutils literal notranslate"><span class="pre">boolean</span></code><br /><span class="p"><span class="pre">)</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference internal" href="#lua-IteratorObject" title="IteratorObject"><code class="xref lua lua-_auto docutils literal notranslate"><span class="pre">IteratorObject</span></code></a><a class="headerlink" href="#lua-IteratorObject.Filter" title="Link to this definition"></a><br /></dt>
<dd><p>Adds a function to filter iterator values (happens before mapping).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>func</strong> (<span class="k">fun</span><span class="p">(</span><span class="n">key</span><span class="p">:</span><span class="w"> </span><code class="xref lua lua-_auto docutils literal notranslate"><span class="pre">any</span></code><span class="p">,</span><span class="w"> </span><span class="n">...</span><code class="xref lua lua-_auto docutils literal notranslate"><span class="pre">any</span></code><span class="p">)</span><span class="p">:</span><span class="w"> </span><code class="xref lua lua-_auto docutils literal notranslate"><span class="pre">boolean</span></code>) – Function which returns if a value should be provided by the iterator</p>
</dd>
</dl>
</dd></dl>

<dl class="lua method">
<dt class="sig sig-object lua" id="lua-IteratorObject.SetMapFunc">
<span class="sig-name descname"><span class="pre">SetMapFunc</span></span><span class="p"><span class="pre">(</span></span><br /><span class="w">&#160;&#160;&#160; </span><span class="n"><span class="pre">self</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference internal" href="#lua-IteratorObject" title="IteratorObject"><code class="xref lua lua-_auto docutils literal notranslate"><span class="pre">IteratorObject</span></code></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><br /><span class="w">&#160;&#160;&#160; </span><span class="n"><span class="pre">func</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="k"><span class="pre">fun</span></span><span class="p"><span class="pre">(</span></span><span class="n"><span class="pre">key</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><code class="xref lua lua-_auto docutils literal notranslate"><span class="pre">any</span></code><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="n"><span class="pre">...</span></span><code class="xref lua lua-_auto docutils literal notranslate"><span class="pre">any</span></code><span class="p"><span class="pre">)</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">...</span></span><code class="xref lua lua-_auto docutils literal notranslate"><span class="pre">unknown</span></code><br /><span class="p"><span class="pre">)</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference internal" href="#lua-IteratorObject" title="IteratorObject"><code class="xref lua lua-_auto docutils literal notranslate"><span class="pre">IteratorObject</span></code></a><a class="headerlink" href="#lua-IteratorObject.SetMapFunc" title="Link to this definition"></a><br /></dt>
<dd><p>Sets a function to map iterator values (happens after filtering).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>func</strong> (<span class="k">fun</span><span class="p">(</span><span class="n">key</span><span class="p">:</span><span class="w"> </span><code class="xref lua lua-_auto docutils literal notranslate"><span class="pre">any</span></code><span class="p">,</span><span class="w"> </span><span class="n">...</span><code class="xref lua lua-_auto docutils literal notranslate"><span class="pre">any</span></code><span class="p">)</span><span class="p">:</span><span class="w"> </span><span class="n">...</span><code class="xref lua lua-_auto docutils literal notranslate"><span class="pre">unknown</span></code>) – Function used to map iterator values (the key cannot be mapped and shouldn’t be returned)</p>
</dd>
</dl>
</dd></dl>

<dl class="lua method">
<dt class="sig sig-object lua" id="lua-IteratorObject.SetCleanupFunc">
<span class="sig-name descname"><span class="pre">SetCleanupFunc</span></span><span class="p"><span class="pre">(</span></span><span class="n"><span class="pre">self</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference internal" href="#lua-IteratorObject" title="IteratorObject"><code class="xref lua lua-_auto docutils literal notranslate"><span class="pre">IteratorObject</span></code></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="n"><span class="pre">func</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="k"><span class="pre">fun</span></span><span class="p"><span class="pre">(</span></span><span class="n"><span class="pre">obj</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><code class="xref lua lua-_auto docutils literal notranslate"><span class="pre">any</span></code><span class="p"><span class="pre">)</span></span><span class="p"><span class="pre">)</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference internal" href="#lua-IteratorObject" title="IteratorObject"><code class="xref lua lua-_auto docutils literal notranslate"><span class="pre">IteratorObject</span></code></a><a class="headerlink" href="#lua-IteratorObject.SetCleanupFunc" title="Link to this definition"></a><br /></dt>
<dd><p>Sets a function called when the iterator is released to clean up any associated context.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>func</strong> (<span class="k">fun</span><span class="p">(</span><span class="n">obj</span><span class="p">:</span><span class="w"> </span><code class="xref lua lua-_auto docutils literal notranslate"><span class="pre">any</span></code><span class="p">)</span>) – The cleanup function which is passed the original iterator object</p>
</dd>
</dl>
</dd></dl>

<dl class="lua method">
<dt class="sig sig-object lua" id="lua-IteratorObject.GetValueAndRelease">
<span class="sig-name descname"><span class="pre">GetValueAndRelease</span></span><span class="p"><span class="pre">(</span></span><span class="n"><span class="pre">self</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference internal" href="#lua-IteratorObject" title="IteratorObject"><code class="xref lua lua-_auto docutils literal notranslate"><span class="pre">IteratorObject</span></code></a><span class="p"><span class="pre">)</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="p"><span class="pre">(</span></span><span class="n"><span class="pre">...</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><code class="xref lua lua-_auto docutils literal notranslate"><span class="pre">any</span></code><span class="p"><span class="pre">)</span></span><a class="headerlink" href="#lua-IteratorObject.GetValueAndRelease" title="Link to this definition"></a><br /></dt>
<dd><p>Get the next value and release the iterator.</p>
<dl class="field-list simple">
</dl>
</dd></dl>

<dl class="lua method">
<dt class="sig sig-object lua" id="lua-IteratorObject.ToJoinedValueString">
<span class="sig-name descname"><span class="pre">ToJoinedValueString</span></span><span class="p"><span class="pre">(</span></span><span class="n"><span class="pre">self</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference internal" href="#lua-IteratorObject" title="IteratorObject"><code class="xref lua lua-_auto docutils literal notranslate"><span class="pre">IteratorObject</span></code></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="n"><span class="pre">sep</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><code class="xref lua lua-_auto docutils literal notranslate"><span class="pre">string</span></code><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="n"><span class="pre">sorted?</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><code class="xref lua lua-_auto docutils literal notranslate"><span class="pre">boolean</span></code><span class="p"><span class="pre">)</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><code class="xref lua lua-_auto docutils literal notranslate"><span class="pre">string</span></code><a class="headerlink" href="#lua-IteratorObject.ToJoinedValueString" title="Link to this definition"></a><br /></dt>
<dd><p>Evaluates the iterator and returns the result as a joined string of all the values.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>sep</strong> (<code class="xref lua lua-_auto docutils literal notranslate"><span class="pre">string</span></code>) – The separator</p></li>
<li><p><strong>sorted?</strong> (<code class="xref lua lua-_auto docutils literal notranslate"><span class="pre">boolean</span></code>) – Whether or not to sort the values before concatenating it</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="lua method">
<dt class="sig sig-object lua" id="lua-IteratorObject.Release">
<span class="sig-name descname"><span class="pre">Release</span></span><span class="p"><span class="pre">(</span></span><span class="n"><span class="pre">self</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference internal" href="#lua-IteratorObject" title="IteratorObject"><code class="xref lua lua-_auto docutils literal notranslate"><span class="pre">IteratorObject</span></code></a><span class="p"><span class="pre">)</span></span><a class="headerlink" href="#lua-IteratorObject.Release" title="Link to this definition"></a><br /></dt>
<dd><p>Releases the iterator.</p>
<dl class="field-list simple">
</dl>
</dd></dl>

</dd></dl>

</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="future.html" class="btn btn-neutral float-left" title="Future" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="long_string.html" class="btn btn-neutral float-right" title="Long String" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2025, TradeSkillMaster LLC.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>